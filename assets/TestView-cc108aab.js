import{b as p,d as $,r as h,e as L,_ as D,f as T,o as m,c as f,a as d,t as u,g as b,w as x,v as I,h as V,i as B,F as U,j as F,u as k,n as M,p as N,k as j}from"./index-14175f2c.js";import{B as g}from"./BaseInput-591e766a.js";const v="/api/todo",q=()=>p.get(`${v}`),E=o=>p.post(`${v}`,o),z=o=>p.delete(`${v}/${o}`),A=(o,n)=>p.put(`${v}/${o}`,n),G=$("list",()=>{const o=h([]),n=L(()=>o.value),r=l=>L(()=>o.value.find(i=>i.id===l));async function t(){try{const{data:l}=await q();o.value=l}catch({message:l,error:i}){throw l??i}}async function c(l){try{await E(l),await t()}catch({message:i,error:a}){throw i??a}}return{getList:n,initList:t,getDetail:r,addList:c,removeList:async l=>{try{await z(l),await t()}catch({message:i,error:a}){throw i??a}},editList:async(l,i)=>{try{await A(l,i),await t()}catch({message:a,error:s}){throw a??s}}}});const S=o=>(N("data-v-72ba55a3"),o=o(),j(),o),O={class:"container"},R=["onSubmit"],H={class:"checkbox"},J=S(()=>d("button",{type:"reset"},"Cancel",-1)),K={type:"submit"},P=S(()=>d("h4",null,"Tasks",-1)),Q={class:"list"},W=["onDblclick"],X=["onClick","disabled"],Y=["onClick","disabled"],Z={__name:"TestView",setup(o){const n=G(),r={title:"",description:"",category:"",completed:!1},t=h({...r}),c=h(!1),_=()=>{Object.assign(t.value,r),c.value=!1};async function y(){const a={...t.value};c.value===!1?await n.addList(a):n.editList(c.value,a),_()}function l(a){const s=n.getDetail(a);t.value={...s.value},c.value=a}function i(a){const s=n.getDetail(a);n.editList(a,{...s.value,completed:!s.value.completed})}return T(async()=>await n.initList()),(a,s)=>{var w;return m(),f("div",O,[d("h1",null,"Test "+u((w=a.$route.params)==null?void 0:w.id),1),d("form",{class:"form",onSubmit:B(y,["prevent"]),onReset:_},[b(g,{modelValue:t.value.title,"onUpdate:modelValue":s[0]||(s[0]=e=>t.value.title=e),name:"title",placeholder:"Gaming",required:""},null,8,["modelValue"]),b(g,{modelValue:t.value.description,"onUpdate:modelValue":s[1]||(s[1]=e=>t.value.description=e),name:"description",placeholder:"Everyday",required:""},null,8,["modelValue"]),b(g,{modelValue:t.value.category,"onUpdate:modelValue":s[2]||(s[2]=e=>t.value.category=e),name:"category",placeholder:"Todo"},null,8,["modelValue"]),d("div",H,[x(d("input",{type:"checkbox","onUpdate:modelValue":s[3]||(s[3]=e=>t.value.completed=e),name:"completed"},null,512),[[I,t.value.completed]]),V(" Completed ")]),J,d("button",K,u(c.value!==!1?"Save":"Submit"),1)],40,R),P,d("ol",Q,[(m(!0),f(U,null,F(k(n).getList,(e,C)=>(m(),f("li",{key:C,class:M({strike:e==null?void 0:e.completed}),onDblclick:ee=>i(e.id)},[d("button",{class:"red",onClick:()=>k(n).removeList(e.id),disabled:c.value!==!1},"×",8,X),d("button",{class:"orange",onClick:()=>l(e.id),disabled:c.value!==!1},"✎",8,Y),V(" "+u(e==null?void 0:e.title)+" - "+u(e!=null&&e.description?e.description:""),1)],42,W))),128))])])}}},se=D(Z,[["__scopeId","data-v-72ba55a3"]]);export{se as default};
