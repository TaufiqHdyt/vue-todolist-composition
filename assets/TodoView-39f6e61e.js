import{b as p,d as $,r as h,e as T,_ as x,f as D,o as m,c as f,a as c,t as u,g as b,w as I,v as B,h as V,i as U,F,j as M,u as k,n as N,p as j,k as q}from"./index-1f5d0bf2.js";import{B as g}from"./BaseInput-c7f81a71.js";const v="/api/todo",E=()=>p.get(`${v}`),L=s=>p.post(`${v}`,s),z=s=>p.delete(`${v}/${s}`),A=(s,n)=>p.put(`${v}/${s}`,n),G=$("todo",()=>{const s=h([]),n=T(()=>s.value),r=l=>T(()=>s.value.find(d=>d.id===l));async function o(){try{const{data:l}=await E();s.value=l}catch({message:l,error:d}){throw l??d}}async function i(l){try{await L(l),await o()}catch({message:d,error:t}){throw d??t}}return{getTodo:n,init:o,getDetail:r,addTodo:i,removeTodo:async l=>{try{await z(l),await o()}catch({message:d,error:t}){throw d??t}},editTodo:async(l,d)=>{try{await A(l,d),await o()}catch({message:t,error:a}){throw t??a}}}});const S=s=>(j("data-v-4b3f26cc"),s=s(),q(),s),O={class:"container"},R=["onSubmit"],H={class:"checkbox"},J=S(()=>c("button",{type:"reset"},"Cancel",-1)),K={type:"submit"},P=S(()=>c("h4",null,"Tasks",-1)),Q={class:"list"},W=["onDblclick"],X=["onClick","disabled"],Y=["onClick","disabled"],Z={__name:"TodoView",setup(s){const n=G(),r={title:"",description:"",category:"",completed:!1},o=h({...r}),i=h(!1),_=()=>{Object.assign(o.value,r),i.value=!1};async function y(){const t={...o.value};i.value===!1?await n.addTodo(t):await n.editTodo(i.value,t),_()}function l(t){const a=n.getDetail(t);o.value={...a.value},i.value=t}async function d(t){const a=n.getDetail(t);await n.editTodo(t,{...a.value,completed:!a.value.completed})}return D(async()=>await n.init()),(t,a)=>{var w;return m(),f("div",O,[c("h1",null,"Test "+u((w=t.$route.params)==null?void 0:w.id),1),c("form",{class:"form",onSubmit:U(y,["prevent"]),onReset:_},[b(g,{modelValue:o.value.title,"onUpdate:modelValue":a[0]||(a[0]=e=>o.value.title=e),name:"title",placeholder:"Gaming",required:""},null,8,["modelValue"]),b(g,{modelValue:o.value.description,"onUpdate:modelValue":a[1]||(a[1]=e=>o.value.description=e),name:"description",placeholder:"Everyday",required:""},null,8,["modelValue"]),b(g,{modelValue:o.value.category,"onUpdate:modelValue":a[2]||(a[2]=e=>o.value.category=e),name:"category",placeholder:"Todo"},null,8,["modelValue"]),c("div",H,[I(c("input",{type:"checkbox","onUpdate:modelValue":a[3]||(a[3]=e=>o.value.completed=e),name:"completed"},null,512),[[B,o.value.completed]]),V(" Completed ")]),J,c("button",K,u(i.value!==!1?"Save":"Submit"),1)],40,R),P,c("ol",Q,[(m(!0),f(F,null,M(k(n).getTodo,(e,C)=>(m(),f("li",{key:C,class:N({strike:e==null?void 0:e.completed}),onDblclick:ee=>d(e.id)},[c("button",{class:"red",onClick:()=>k(n).removeList(e.id),disabled:i.value!==!1},"×",8,X),c("button",{class:"orange",onClick:()=>l(e.id),disabled:i.value!==!1},"✎",8,Y),V(" "+u(e==null?void 0:e.title)+" - "+u(e!=null&&e.description?e.description:""),1)],42,W))),128))])])}}},ae=x(Z,[["__scopeId","data-v-4b3f26cc"]]);export{ae as default};
